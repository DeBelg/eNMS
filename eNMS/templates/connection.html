<html lang="en">
  <head>
    <link
      href="{{ url_for('static', filename='lib/xterm/xterm.css') }}"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: black;">
    <div style="width: 100%; height: 100%;" id="terminal"></div>
    <script src="{{ url_for('static', filename='lib/xterm/xterm.js') }}"></script>
    <script src="{{ url_for('static', filename='lib/xterm/xterm-addon-fit.js') }}"></script>
    <script src="{{ url_for('static', filename='lib/socketio/socket.io.js') }}"></script>
    <script>
      const term = new Terminal({ cursorBlink: true });
      const fitAddon = new FitAddon.FitAddon();
      const socket = io.connect("/terminal");
      term.loadAddon(fitAddon);
      term.open(document.getElementById("terminal"));
      fitAddon.fit();
      term.write("Connecting...");
      term.onKey((event) => socket.emit("input", event.key));
      socket.on("output", (data) => term.write(data));
    </script>
  </body>
</html>
